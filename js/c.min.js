(function(){var n,h,u,i,j,m,t,o,l,e,g,r,k,a,c,s,d,f,p=[].slice;r=typeof exports!=="undefined"&&exports!==null?exports:this;j=function(v){return v===true||v===false};m=function(v){return !v||v.length===0};i=function(v){return !v||/^\s*$/.test(v)};o=function(w){try{if(m(w)||i(w)||(w==null)){if(!(w===false||w===0)){return true}}}catch(v){}return false};t=function(w){if(typeof w==="object"){return true}try{JSON.parse(w);return true}catch(v){}return false};l=function(v){return !isNaN(parseFloat(v))&&isFinite(v)};d=function(v){if(!l(v)||o(v)){return 0}return parseFloat(v)};f=function(v){if(!l(v)||o(v)){return 0}return parseInt(v)};function q(v){var x={};for(var w=0;w<v.length;++w){if(v[w]!==undefined){x[w]=v[w]}}return x}String.prototype.toBool=function(){return this.toString()==="true"};Boolean.prototype.toBool=function(){return this.toString()==="true"};Object.size=function(x){var w,v;v=0;for(w in x){if(x.hasOwnProperty(w)){v++}}return v};u=function(v,w){return setTimeout(w,v)};k=function(w,x){var v;if(x==null){x=0}v=Math.pow(10,x);return Math.round(w*v)/v};jQuery.fn.exists=function(){return jQuery(this).length>0};h=(function(v){return function(w){return encodeURI(w).split(/%..|./).length-1}})(this);function b(z){for(var w,v,y=z.length;y;w=Math.floor(Math.random()*y),v=z[--y],z[y]=z[w],z[w]=v){}return z}window.debounce_timer=null;({debounce:function(x,v,w){if(v==null){v=300}if(w==null){w=false}return function(){var z,y,A;z=1<=arguments.length?p.call(arguments,0):[];A=this;y=function(){if(!w){return x.apply(A,z)}};if(window.debounce_timer!=null){clearTimeout(window.debounce_timer)}else{if(w){x.apply(A,z)}}return window.debounce_timer=setTimeout(y,v)}}});Function.prototype.debounce=function(){var y,x,B,w,z,v,A;v=arguments[0],w=arguments[1],A=arguments[2],y=4<=arguments.length?p.call(arguments,3):[];if(v==null){v=300}if(w==null){w=false}if(A==null){A=window.debounce_timer}z=this;x=function(){if(!w){z.apply(z,y)}return console.log("Debounce applied")};if(A!=null){try{clearTimeout(A)}catch(C){B=C}}else{if(w){z.apply(obj,y);console.log("Executed immediately")}}return window.debounce_timer=setTimeout(x,v)};e=function(){return $(".newwindow").each(function(){var v,w;v=$(this).attr("href");w=function(x){if(x==null){return false}window.open(x);return false};$(this).click(function(){return w(v)});return $(this).keypress(function(){return w(v)})})};n=function(C,A){var x,B,y,v,w,z;if(C==null){C=50}if(A==null){A="#status-container"}try{if($(A).exists()){w=k(C*0.5);x=$(A).find(".ball");z=$(A).find(".ball1");x.removeClass("stop hide");x.css({width:""+C+"px",height:""+C+"px"});y=k(C/2+w/2+9);v=k((C+10)/2-(w+6)/2);z.removeClass("stop hide");z.css({width:""+w+"px",height:""+w+"px",top:"-"+y+"px","margin-left":""+v+"px"});return true}return false}catch(D){B=D;return console.log("Could not animate loader",B.message)}};c=function(w){var v,y,x;if(w==null){w="#status-container"}try{if($(w).exists()){v=$(w).find(".ball");x=$(w).find(".ball1");v.addClass("bballgood ballgood");x.addClass("bballgood ball1good");return u(250,function(){v.addClass("stop hide");v.removeClass("bballgood ballgood");x.addClass("stop hide");return x.removeClass("bballgood ball1good")})}}catch(z){y=z;return console.log("Could not stop load animation",y.message)}};s=function(w){var v,y,x;if(w==null){w="#status-container"}try{if($(w).exists()){v=$(w).find(".ball");x=$(w).find(".ball1");v.addClass("bballerror ballerror");x.addClass("bballerror ball1error");return u(1500,function(){v.addClass("stop hide");v.removeClass("bballerror ballerror");x.addClass("stop hide");return x.removeClass("bballerror ball1error")})}}catch(z){y=z;return console.log("Could not stop load error animation",y.message)}};$(function(){var v;try{window.picturefill()}catch(w){v=w;console.log("Could not execute picturefill.")}return e()});a=new Object();a.targetApi="cndb/commonnames_api.php";a.targetContainer="#result_container";g=function(){var v,w;w=$("#search").val();console.log("Got search value "+w);v="q="+w;return $.post(a.targetApi,v,"json").done(function(x){return false}).fail(function(x,y){console.error("There was an error performing the search");console.warn(x,y,x.errorMessage);y=""+x.status+" - "+x.statusText;$("#search-status").attr("text","Couldn't execute the search - "+y);return $("#search-status")[0].show()}).always(function(){return false})};$(function(){console.log("Doing onloads ...");$("#search_form").submit(function(v){v.preventDefault();return g()});return $("#do-search").click(function(){return g()})})}).call(this);