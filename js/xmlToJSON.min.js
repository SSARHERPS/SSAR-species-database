var xmlToJSON=(function(){this.version="1.1";var a={mergeCDATA:true,grokAttr:true,grokText:true,normalize:true,xmlns:true,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:true,stripAttrPrefix:true,stripElemPrefix:true,childrenAsArray:true};var b=new RegExp(/(?!xmlns)^.*:/);var c=new RegExp(/^\s+|\s+$/g);this.grokType=function(d){if(/^\s*$/.test(d)){return null}if(/^(?:true|false)$/i.test(d)){return d.toLowerCase()==="true"}if(isFinite(d)){return parseFloat(d)}return d};this.parseString=function(e,d){return this.parseXML(this.stringToXML(e),d)};this.parseXML=function(l,f){for(key in f){a[key]=f[key]}var d={},m=0,e="";if(a.xmlns&&l.namespaceURI){d[a.namespaceKey]=l.namespaceURI}if(l.attributes&&l.attributes.length>0){var h={};for(m;m<l.attributes.length;m++){oAttrib=l.attributes.item(m);j={};attribName="";if(a.stripAttrPrefix){attribName=oAttrib.name.replace(b,"")}else{attribName=oAttrib.name}if(a.grokAttr){j[a.valueKey]=grokType(oAttrib.value.replace(c,""))}else{j[a.valueKey]=oAttrib.value.replace(c,"")}if(a.xmlns&&oAttrib.namespaceURI){j[a.namespaceKey]=oAttrib.namespaceURI}if(a.attrsAsObject){h[attribName]=j}else{d[a.attrKey+attribName]=j}}if(a.attrsAsObject){d[a.attrKey]=h}else{}}if(l.hasChildNodes()){for(var k,g,j,i=0;i<l.childNodes.length;i++){k=l.childNodes.item(i);if(k.nodeType===4){if(a.mergeCDATA){e+=k.nodeValue}else{if(d.hasOwnProperty(a.cdataKey)){if(d[a.cdataKey].constructor!==Array){d[a.cdataKey]=[d[a.cdataKey]]}d[a.cdataKey].push(k.nodeValue)}else{if(a.childrenAsArray){d[a.cdataKey]=[];d[a.cdataKey].push(k.nodeValue)}else{d[a.cdataKey]=k.nodeValue}}}}else{if(k.nodeType===3){e+=k.nodeValue}else{if(k.nodeType===1){if(m===0){d={}}if(a.stripElemPrefix){g=k.nodeName.replace(b,"")}else{g=k.nodeName}j=xmlToJSON.parseXML(k);if(d.hasOwnProperty(g)){if(d[g].constructor!==Array){d[g]=[d[g]]}d[g].push(j)}else{if(a.childrenAsArray){d[g]=[];d[g].push(j)}else{d[g]=j}m++}}}}}}else{if(!e){if(a.childrenAsArray){d[a.textKey]=[];d[a.textKey].push(null)}else{d[a.textKey]=null}}}if(e){if(a.grokText){value=this.grokType(e.replace(c,""));if(value!==null&&value!==undefined){d[a.textKey]=value}}else{if(a.normalize){d[a.textKey]=e.replace(c,"").replace(/\s+/g," ")}else{d[a.textKey]=e.replace(c,"")}}}return d};this.xmlToString=function(e){try{var f=e.xml?e.xml:(new XMLSerializer()).serializeToString(e);return f}catch(d){return null}};this.stringToXML=function(g){try{var d=null;if(window.DOMParser){var h=new DOMParser();d=h.parseFromString(g,"text/xml");return d}else{d=new ActiveXObject("Microsoft.XMLDOM");d.async=false;d.loadXML(g);return d}}catch(f){return null}};return this})();