var xmlToJSON=function(){this.version="1.1";var e={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:"_ns",textKey:"_text",valueKey:"_value",attrKey:"_attr",cdataKey:"_cdata",attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!0},t=new RegExp(/(?!xmlns)^.*:/),r=new RegExp(/^\s+|\s+$/g);return this.grokType=function(e){return/^\s*$/.test(e)?null:/^(?:true|false)$/i.test(e)?"true"===e.toLowerCase():isFinite(e)?parseFloat(e):e},this.parseString=function(e,t){return this.parseXML(this.stringToXML(e),t)},this.parseXML=function(a,n){for(key in n)e[key]=n[key];var s={},i=0,l="";if(e.xmlns&&a.namespaceURI&&(s[e.namespaceKey]=a.namespaceURI),a.attributes&&a.attributes.length>0){var o={};for(i;i<a.attributes.length;i++)oAttrib=a.attributes.item(i),y={},attribName="",e.stripAttrPrefix?attribName=oAttrib.name.replace(t,""):attribName=oAttrib.name,e.grokAttr?y[e.valueKey]=grokType(oAttrib.value.replace(r,"")):y[e.valueKey]=oAttrib.value.replace(r,""),e.xmlns&&oAttrib.namespaceURI&&(y[e.namespaceKey]=oAttrib.namespaceURI),e.attrsAsObject?o[attribName]=y:s[e.attrKey+attribName]=y;e.attrsAsObject&&(s[e.attrKey]=o)}if(a.hasChildNodes())for(var c,u,y,p=0;p<a.childNodes.length;p++)4===(c=a.childNodes.item(p)).nodeType?e.mergeCDATA?l+=c.nodeValue:s.hasOwnProperty(e.cdataKey)?(s[e.cdataKey].constructor!==Array&&(s[e.cdataKey]=[s[e.cdataKey]]),s[e.cdataKey].push(c.nodeValue)):e.childrenAsArray?(s[e.cdataKey]=[],s[e.cdataKey].push(c.nodeValue)):s[e.cdataKey]=c.nodeValue:3===c.nodeType?l+=c.nodeValue:1===c.nodeType&&(0===i&&(s={}),u=e.stripElemPrefix?c.nodeName.replace(t,""):c.nodeName,y=xmlToJSON.parseXML(c),s.hasOwnProperty(u)?(s[u].constructor!==Array&&(s[u]=[s[u]]),s[u].push(y)):(e.childrenAsArray?(s[u]=[],s[u].push(y)):s[u]=y,i++));else l||(e.childrenAsArray?(s[e.textKey]=[],s[e.textKey].push(null)):s[e.textKey]=null);return l&&(e.grokText?(value=this.grokType(l.replace(r,"")),null!==value&&void 0!==value&&(s[e.textKey]=value)):e.normalize?s[e.textKey]=l.replace(r,"").replace(/\s+/g," "):s[e.textKey]=l.replace(r,"")),s},this.xmlToString=function(e){try{return e.xml?e.xml:(new XMLSerializer).serializeToString(e)}catch(e){return null}},this.stringToXML=function(e){try{var t=null;return window.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):(t=new ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.loadXML(e),t)}catch(e){return null}},this}();
//# sourceMappingURL=maps/xmlToJSON.map